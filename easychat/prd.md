# EasyChat - 产品需求文档 (PRD)

## 项目概述

EasyChat 是一个基于 DeepSeek API 的简单流式问答命令行程序，旨在为用户提供便捷的 AI 对话体验。这是一个学习项目，专注于简单实用，避免复杂的技术栈。

## 核心功能需求

### 1. 流式问答功能
- 使用 DeepSeek API 实现流式对话
- 支持用户提问和系统提示词
- 实时流式返回 AI 回复内容
- 兼容 OpenAI API 调用格式

### 2. 命令行界面 (CLI)
- 简洁的命令行交互界面
- 支持连续对话
- 输入 `quit` 命令退出程序
- 清晰的用户提示和反馈

### 3. 配置管理
- API Key 存储在 `.env` 文件中
- 系统提示词存储在 `systemprompt.md` 文件中
- 支持配置文件的读取和解析

## 技术要求

### 运行环境
- Python 3.x 及以上版本
- 单一程序文件实现
- 最小化依赖库

### API 集成
- 集成 DeepSeek API
- 使用 OpenAI 兼容的 API 调用格式
- 支持流式响应处理

### 文件结构
```
easychat/
├── main.py              # 主程序文件
├── .env                 # API Key 配置文件
├── systemprompt.md      # 系统提示词文件
└── prd.md              # 产品需求文档
```

## 功能特性

### 用户交互流程
1. 启动程序
2. 加载系统提示词和 API 配置
3. 显示欢迎信息
4. 等待用户输入问题
5. 调用 DeepSeek API 获取流式回复
6. 实时显示 AI 回复内容
7. 等待下一个问题或退出命令

### 错误处理
- API 调用失败的错误提示
- 网络连接异常处理
- 配置文件缺失或格式错误提示
- 用户输入验证

## 项目约束

### 简化原则
- 避免复杂的系统设计
- 不引入重型框架
- 专注核心功能实现
- 保持代码简洁易懂

### 学习目标
- 理解 API 调用和流式处理
- 掌握命令行程序开发
- 学习配置文件管理
- 实践错误处理机制

## 配置文件说明

### .env 文件格式
```
DEEPSEEK_API_KEY=your_api_key_here
API_BASE_URL=https://api.deepseek.com/v1
```

### systemprompt.md 文件
存储系统提示词内容，用于定义 AI 助手的行为和回复风格。

## 成功标准

1. 程序能够成功启动并显示欢迎界面
2. 能够正确读取配置文件和系统提示词
3. 成功调用 DeepSeek API 并获取流式回复
4. 用户可以进行连续对话
5. 输入 `quit` 能够正常退出程序
6. 具备基本的错误处理能力

## 后续扩展可能性

- 对话历史记录功能
- 多种 AI 模型支持
- 配置参数调整（温度、最大长度等）
- 简单的对话导出功能

---

*注：本 PRD 专注于核心功能定义，实际开发时可根据具体情况进行适当调整。*